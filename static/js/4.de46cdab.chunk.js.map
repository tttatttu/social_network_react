{"version":3,"sources":["components/Dialogs/Dialogs.module.css","hoc/withAuthRedirect.js","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","mapStateToPropsForRedirect","state","isAuth","auth","DialogItem","props","path","id","className","classes","dialog","active","to","name","Message","message","formMessage","maxLength50","maxLengthCreator","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","validate","required","placeholder","messageInput","button","Dialogs","dialogsPage","dialogsElements","dialogs","map","key","messagesElements","messages","newMessageBody","dialogsItems","values","sendMessage","compose","connect","dispatch","sendMessageCreator","Component","RedirectComponent","this","React"],"mappings":"iHACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,OAAS,wBAAwB,OAAS,wBAAwB,SAAW,0BAA0B,QAAU,yBAAyB,aAAe,8BAA8B,OAAS,0B,mHCI9RC,EAA6B,SAACC,GAAD,MAAY,CACzCC,OAAQD,EAAME,KAAKD,S,mCCSRE,EAXI,SAACC,GAClB,IAAIC,EAAO,YAAcD,EAAME,GAE/B,OACE,yBAAKC,UAAWC,IAAQC,OAAS,IAAMD,IAAQE,QAC7C,kBAAC,IAAD,CAASC,GAAIN,GAAOD,EAAMQ,QCSjBC,EARC,SAAC,GAAe,IAAdC,EAAa,EAAbA,QAChB,OACE,6BACE,yBAAKP,UAAWC,IAAQO,aAAcD,K,iCC8BtCE,EAAcC,YAAiB,IAqB/BC,EAAsBC,YAAU,CAAEC,KAAM,wBAAlBD,EAnBL,SAACf,GACtB,OACE,0BAAMiB,SAAUjB,EAAMkB,cACpB,6BACE,kBAACC,EAAA,EAAD,CACEC,UAAWC,IACXC,SAAU,CAACC,IAAUX,GACrBJ,KAAK,iBACLgB,YAAa,qBACbrB,UAAWC,IAAQqB,gBAGvB,6BACE,4BAAQtB,UAAWC,IAAQsB,QAA3B,aAUOC,EAvDC,SAAC3B,GACf,IAAIJ,EAAQI,EAAM4B,YAEdC,EAAkBjC,EAAMkC,QAAQC,KAAI,SAAC1B,GAAD,OACtC,kBAAC,EAAD,CAAYG,KAAMH,EAAOG,KAAMwB,IAAK3B,EAAOH,GAAIA,GAAIG,EAAOH,QAGxD+B,EAAmBrC,EAAMsC,SAASH,KAAI,SAACrB,GAAD,OACxC,kBAAC,EAAD,CAASA,QAASA,EAAQA,QAASsB,IAAKtB,EAAQR,QAG7BN,EAAMuC,eAM3B,OACE,yBAAKhC,UAAWC,IAAQ0B,SACtB,6BACE,yBAAK3B,UAAWC,IAAQgC,cAAeP,IAEzC,yBAAK1B,UAAWC,IAAQ8B,UACtB,6BAAMD,IAER,kBAACnB,EAAD,CAAqBG,SAZH,SAACoB,GACrBrC,EAAMsC,YAAYD,EAAOF,qBCHdI,sBACbC,aAfsB,SAAC5C,GACvB,MAAO,CACLgC,YAAahC,EAAMgC,gBAII,SAACa,GAC1B,MAAO,CACLH,YAAa,SAACH,GACZM,EAASC,YAAmBP,UJVF,SAACQ,GAAe,IACtCC,EADqC,uKAGnC,OAAKC,KAAK7C,MAAMH,OAET,kBAAC8C,EAAcE,KAAK7C,OAFI,kBAAC,IAAD,CAAUO,GAAG,eAHT,GACXuC,IAAMH,WAWtC,OAFqCH,YAAQ7C,EAAR6C,CAAqCI,KIK/DL,CAGbZ","file":"static/js/4.de46cdab.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2xRSA\",\"dialogsItems\":\"Dialogs_dialogsItems__2sNe2\",\"active\":\"Dialogs_active__2sQhs\",\"dialog\":\"Dialogs_dialog__lk_cw\",\"messages\":\"Dialogs_messages__1w_Up\",\"message\":\"Dialogs_message__1xIDh\",\"messageInput\":\"Dialogs_messageInput__-3Pq0\",\"button\":\"Dialogs_button__UnW0m\"};","import  React from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\n\nlet mapStateToPropsForRedirect = (state) => ({\n    isAuth: state.auth.isAuth\n});\n\nexport const withAuthRedirect = (Component) => {\n    class RedirectComponent extends React.Component {\n        render() {\n            if (!this.props.isAuth) return <Redirect to=\"/login\" />\n\n            return <Component {...this.props}/>\n        }\n    }\n\n    \n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect) (RedirectComponent);\n\n    return ConnectedAuthRedirectComponent;\n}\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport classes from \"./../Dialogs.module.css\";\n\nconst DialogItem = (props) => {\n  let path = \"/dialogs/\" + props.id;\n\n  return (\n    <div className={classes.dialog + \" \" + classes.active}>\n      <NavLink to={path}>{props.name}</NavLink>\n    </div>\n  );\n};\n\n\nexport default DialogItem;\n","import React from \"react\";\nimport classes from \"./../Dialogs.module.css\";\n\n// let newMessageElement = React.createRef();\n\n// const newMessage = () => {\n//   let text = newMessageElement.current.value;\n//   alert(text);\n// }\n\nconst Message = ({message}) => {\n  return (\n    <div>\n      <div className={classes.formMessage}>{message}</div>\n    </div>\n  )\n};\n\nexport default Message;\n","import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport {\n  sendMessageCreator,\n  updateNewMessageBodyCreator,\n} from \"../../redux/dialogsReducer\";\nimport DialogItem from \"./DialogItem/DialogItem\";\nimport classes from \"./Dialogs.module.css\";\nimport Message from \"./Message/Message\";\nimport { Field, reduxForm } from \"redux-form\";\nimport { Textarea } from \"../common/FormsControls/FormsControls\";\nimport { maxLengthCreator, required } from \"../../utils/validators/validators\";\n\nconst Dialogs = (props) => {\n  let state = props.dialogsPage;\n\n  let dialogsElements = state.dialogs.map((dialog) => (\n    <DialogItem name={dialog.name} key={dialog.id} id={dialog.id} />\n  ));\n\n  let messagesElements = state.messages.map((message) => (\n    <Message message={message.message} key={message.id} />\n  ));\n\n  let newMessageBody = state.newMessageBody;\n\n  const addNewMessage = (values) => {\n    props.sendMessage(values.newMessageBody);\n  };\n\n  return (\n    <div className={classes.dialogs}>\n      <div>\n        <div className={classes.dialogsItems}>{dialogsElements}</div>\n      </div>\n      <div className={classes.messages}>\n        <div>{messagesElements}</div>\n      </div>\n      <AddMessageFormRedux onSubmit={addNewMessage} />\n    </div>\n  );\n};\n\nconst maxLength50 = maxLengthCreator(50);\n\nconst AddMessageForm = (props) => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <div>\n        <Field\n          component={Textarea}\n          validate={[required, maxLength50]}\n          name=\"newMessageBody\"\n          placeholder={\"Enter your message\"}\n          className={classes.messageInput}\n        />\n      </div>\n      <div>\n        <button className={classes.button}>Send</button>\n      </div>\n    </form>\n  );\n};\n\nconst AddMessageFormRedux = reduxForm({ form: \"dialogAddMessageForm\" })(\n  AddMessageForm\n);\n\nexport default Dialogs;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { compose } from \"redux\";\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\nimport { sendMessageCreator} from \"../../redux/dialogsReducer\";\nimport Dialogs from \"./Dialogs\";\nimport classes from \"./Dialogs.module.css\";\n\n\nconst mapStateToProps = (state) => {\n  return {\n    dialogsPage: state.dialogsPage\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    sendMessage: (newMessageBody) => {\n      dispatch(sendMessageCreator(newMessageBody))\n    }\n  }\n}\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withAuthRedirect\n)(Dialogs);;\n"],"sourceRoot":""}